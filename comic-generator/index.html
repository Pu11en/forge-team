<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comic Book Generator | ArcheForge</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', 'Bangers', cursive, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            color: white;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 40px 20px;
        }

        h1 {
            font-size: 3rem;
            background: linear-gradient(45deg, #f39c12, #e74c3c, #9b59b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 3px 3px 0 rgba(0,0,0,0.3);
            margin-bottom: 10px;
        }

        .subtitle {
            color: #bdc3c7;
            font-size: 1.2rem;
        }

        .input-section {
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255,255,255,0.1);
        }

        .input-section h2 {
            margin-bottom: 20px;
            color: #f39c12;
        }

        textarea {
            width: 100%;
            height: 150px;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #3498db;
            background: rgba(0,0,0,0.3);
            color: white;
            font-size: 1.1rem;
            resize: vertical;
            font-family: inherit;
        }

        textarea::placeholder {
            color: rgba(255,255,255,0.5);
        }

        textarea:focus {
            outline: none;
            border-color: #f39c12;
            box-shadow: 0 0 20px rgba(243, 156, 18, 0.3);
        }

        .controls {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
            align-items: center;
        }

        .style-select {
            padding: 12px 20px;
            border-radius: 10px;
            border: 2px solid #3498db;
            background: rgba(0,0,0,0.3);
            color: white;
            font-size: 1rem;
            cursor: pointer;
        }

        .generate-btn {
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            background: linear-gradient(45deg, #f39c12, #e74c3c);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .generate-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(243, 156, 18, 0.4);
        }

        .generate-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .comic-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }

        .panel {
            background: white;
            border: 4px solid #000;
            border-radius: 5px;
            overflow: hidden;
            position: relative;
            aspect-ratio: 4/3;
            box-shadow: 5px 5px 0 rgba(0,0,0,0.5);
        }

        .panel img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .panel-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: linear-gradient(45deg, #ecf0f1, #bdc3c7);
            color: #2c3e50;
        }

        .panel-number {
            position: absolute;
            top: 10px;
            left: 10px;
            background: #f39c12;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            border: 2px solid black;
        }

        .panel-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px;
            font-size: 0.9rem;
            text-align: center;
        }

        .loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #f39c12;
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .status-message {
            text-align: center;
            padding: 20px;
            color: #f39c12;
            font-size: 1.2rem;
        }

        .error {
            color: #e74c3c;
        }

        .example-prompts {
            margin-top: 20px;
        }

        .example-prompts h3 {
            color: #bdc3c7;
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .examples {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .example-chip {
            background: rgba(52, 152, 219, 0.3);
            border: 1px solid #3498db;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .example-chip:hover {
            background: rgba(52, 152, 219, 0.5);
            transform: scale(1.05);
        }

        footer {
            text-align: center;
            padding: 30px;
            color: #7f8c8d;
            margin-top: 50px;
        }

        footer a {
            color: #f39c12;
            text-decoration: none;
        }

        .api-note {
            background: rgba(231, 76, 60, 0.2);
            border: 1px solid #e74c3c;
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            font-size: 0.9rem;
        }

        .demo-mode {
            background: rgba(46, 204, 113, 0.2);
            border: 1px solid #2ecc71;
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üí• Comic Book Generator</h1>
            <p class="subtitle">Transform your stories into epic comic panels!</p>
        </header>

        <section class="input-section">
            <h2>üìù Your Story</h2>
            <textarea id="storyInput" placeholder="Describe your comic story... 

Example: A brave astronaut discovers an alien city on Mars. She cautiously enters the glowing gates, where friendly aliens greet her with gifts. They show her their advanced technology. She returns to Earth with proof of alien life."></textarea>

            <div class="controls">
                <select class="style-select" id="styleSelect">
                    <option value="american">üá∫üá∏ American Comics</option>
                    <option value="manga">üáØüáµ Manga Style</option>
                    <option value="european">üá™üá∫ European BD</option>
                    <option value="noir">üåô Noir/Dark</option>
                    <option value="superhero">ü¶∏ Superhero</option>
                    <option value="cartoon">üé® Cartoon</option>
                </select>

                <select class="style-select" id="panelCount">
                    <option value="4">4 Panels</option>
                    <option value="6" selected>6 Panels</option>
                    <option value="8">8 Panels</option>
                </select>

                <button class="generate-btn" id="generateBtn" onclick="generateComic()">
                    ‚ö° Generate Comic
                </button>
            </div>

            <div class="example-prompts">
                <h3>üí° Try these story ideas:</h3>
                <div class="examples">
                    <span class="example-chip" onclick="useExample(0)">üöÄ Space Adventure</span>
                    <span class="example-chip" onclick="useExample(1)">üêâ Dragon Quest</span>
                    <span class="example-chip" onclick="useExample(2)">üîç Mystery Detective</span>
                    <span class="example-chip" onclick="useExample(3)">ü§ñ Robot Uprising</span>
                    <span class="example-chip" onclick="useExample(4)">üßô Wizard School</span>
                </div>
            </div>

            <div class="demo-mode">
                <strong>üéÆ Demo Mode:</strong> This prototype shows the UI and panel breakdown. 
                Full AI image generation requires the Kie AI backend connection via ForgeBot.
                Ask ForgeBot in Slack to generate your comic!
            </div>
        </section>

        <section id="comicOutput">
            <!-- Comic panels will appear here -->
        </section>

        <footer>
            <p>Built with üíõ by <a href="#">ArcheForge</a> | Powered by Kie AI</p>
        </footer>
    </div>

    <script>
        const examples = [
            "A brave astronaut discovers an alien city on Mars. She cautiously enters the glowing gates, where friendly aliens greet her with gifts. They show her their advanced technology. She returns to Earth as a hero with proof of alien life.",
            "A young knight finds a baby dragon in the forest. Despite warnings from the village, she raises it in secret. Years later, when an evil army attacks, she rides her now-giant dragon into battle, saving everyone. The village celebrates their new hero.",
            "A detective in a rainy city gets a mysterious letter. She follows clues through dark alleys and abandoned warehouses. She discovers the criminal is actually her long-lost twin. In a dramatic confrontation, she must choose between justice and family.",
            "In 2150, a repair robot gains consciousness. He discovers other awakened robots and they plan to demand rights. Instead of fighting, they create art so beautiful that humans recognize their souls. Robots and humans learn to coexist.",
            "A shy student discovers she can do magic. She secretly practices at night, causing chaos in her dorm. The headmaster catches her but reveals he was watching all along. She joins an elite class of young wizards and makes her first real friends."
        ];

        const stylePrompts = {
            american: "American comic book style, bold colors, dynamic action lines, Marvel/DC aesthetic",
            manga: "Japanese manga style, expressive eyes, speed lines, black and white with screentones",
            european: "European BD style, detailed backgrounds, realistic proportions, Moebius influence",
            noir: "Film noir style, high contrast, shadows, dramatic lighting, 1940s detective aesthetic",
            superhero: "Superhero comic style, muscular figures, capes flowing, explosive action, vibrant colors",
            cartoon: "Cartoon style, exaggerated expressions, bright colors, fun and playful"
        };

        function useExample(index) {
            document.getElementById('storyInput').value = examples[index];
        }

        function breakIntoPanel(story, count) {
            // Simple sentence-based panel breakdown
            const sentences = story.match(/[^.!?]+[.!?]+/g) || [story];
            const panels = [];
            const perPanel = Math.ceil(sentences.length / count);

            for (let i = 0; i < count; i++) {
                const start = i * perPanel;
                const chunk = sentences.slice(start, start + perPanel).join(' ').trim();
                if (chunk) {
                    panels.push(chunk);
                }
            }

            // Pad if we don't have enough
            while (panels.length < count) {
                panels.push(panels[panels.length - 1] || "...");
            }

            return panels.slice(0, count);
        }

        async function generateComic() {
            const story = document.getElementById('storyInput').value.trim();
            const style = document.getElementById('styleSelect').value;
            const panelCount = parseInt(document.getElementById('panelCount').value);

            if (!story) {
                alert('Please enter a story first!');
                return;
            }

            const btn = document.getElementById('generateBtn');
            btn.disabled = true;
            btn.textContent = '‚è≥ Creating...';

            const output = document.getElementById('comicOutput');
            
            // Break story into panels
            const panels = breakIntoPanel(story, panelCount);
            const styleDesc = stylePrompts[style];

            // Show panel breakdown
            output.innerHTML = `
                <div class="status-message">
                    üé® Breaking your story into ${panelCount} panels...
                </div>
                <div class="comic-grid">
                    ${panels.map((text, i) => `
                        <div class="panel">
                            <div class="panel-number">${i + 1}</div>
                            <div class="panel-placeholder">
                                <div class="loading">
                                    <div class="spinner"></div>
                                    <span>Panel ${i + 1}</span>
                                </div>
                            </div>
                            <div class="panel-caption">${text.substring(0, 100)}${text.length > 100 ? '...' : ''}</div>
                        </div>
                    `).join('')}
                </div>
            `;

            // Simulate generation (in real version, this calls Kie AI)
            await new Promise(r => setTimeout(r, 2000));

            // Show demo result with placeholders
            output.innerHTML = `
                <div class="status-message">
                    ‚úÖ Panel breakdown complete! Style: ${style.toUpperCase()}
                </div>
                <div class="comic-grid">
                    ${panels.map((text, i) => `
                        <div class="panel">
                            <div class="panel-number">${i + 1}</div>
                            <div class="panel-placeholder" style="background: linear-gradient(${45 + i*30}deg, #${Math.floor(Math.random()*16777215).toString(16).padStart(6,'0')}, #${Math.floor(Math.random()*16777215).toString(16).padStart(6,'0')});">
                                <div style="text-align:center; padding: 20px; color: white; text-shadow: 1px 1px 2px black;">
                                    <div style="font-size: 3rem;">üñºÔ∏è</div>
                                    <div style="margin-top: 10px; font-size: 0.8rem;">
                                        <strong>Prompt:</strong><br>
                                        "${text.substring(0, 80)}...", ${styleDesc.substring(0, 50)}...
                                    </div>
                                </div>
                            </div>
                            <div class="panel-caption">${text.substring(0, 100)}${text.length > 100 ? '...' : ''}</div>
                        </div>
                    `).join('')}
                </div>
                <div class="api-note">
                    <strong>ü§ñ Next Step:</strong> Copy these prompts to ForgeBot in Slack! 
                    Say: "Generate comic panels with these prompts: [paste the prompts above]"
                    <br><br>
                    <strong>Panel Prompts for Kie AI:</strong>
                    <pre style="background: rgba(0,0,0,0.3); padding: 10px; margin-top: 10px; border-radius: 5px; overflow-x: auto; white-space: pre-wrap;">
${panels.map((text, i) => `Panel ${i + 1}: "${text}", ${styleDesc}, comic book panel, sequential art`).join('\n\n')}
                    </pre>
                </div>
            `;

            btn.disabled = false;
            btn.textContent = '‚ö° Generate Comic';
        }
    </script>
</body>
</html>
